---
title: "Let TweetNest Accept JSON"
date: 2012-01-11T19:25:00Z
---

_3200._

It's a sad reality that we've been living with for years now. I hit my 5 year anniversary with [Twitter][1] two days ago, yet I can only go back two weeks if I wanted to search for anything, which is obviously a limitation of the current API.

This scared me so much, and thankfully I remembered to do this, that I had to sign up for [Storify][2] just to save the tweets Jen and I had received [on our wedding day][3]. The tweets are out there, but they're as good as lost if you have no way to relive them.

This isn't an easy problem to solve, especially when you're receiving amounts of data orders of magnitude higher than anything I could comprehend. But there's hope:

<blockquote class="twitter-tweet" data-in-reply-to="153171030016393216"><p>@<a href="https://twitter.com/maxvoltar">maxvoltar</a> @<a href="https://twitter.com/bryanveloso">bryanveloso</a> @<a href="https://twitter.com/mdo">mdo</a> No promises yet, they're just hacking. It would still need infra and prod and support behind it. <a href="https://twitter.com/search/%2523notsmall">#notsmall</a></p>&mdash; Doug Bowman (@stop) <a href="https://twitter.com/stop/status/153176184132337664" data-datetime="2011-12-31T18:10:22+00:00">December 31, 2011</a></blockquote>
<script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

I have faith that they'll eventually solve this dilemma, but eventually doesn't change the fact that you lose a tweet every time you tweet.

Since the day it was released, I've been a happy user of [TweetNest][4] by [Andy Graulund][5]. I installed it, sucked it up and got my 3200 tweets back in June of 2009. A `cron` has been working away every 15 minutes since then and I've been happy with having a searchable archive of tweets.

While doing some winter cleaning of one of my hard drives, I ran into a JSON file that was generated by [Simon Willison's][6] [mytweets][7] script. Those tweets dated back to August of _2008_. Excited, I asked Andy if there was any way to get TweetNest to accept JSON. He replied:

<blockquote class="twitter-tweet" data-in-reply-to="152158608665214977"><p>@<a href="https://twitter.com/bryanveloso">bryanveloso</a> Haven’t made any scripts that do that I’m afraid, but it should be an easy modification in loadtweets if it’s the same format.</p>&mdash; Andy Graulund (@graulund) <a href="https://twitter.com/graulund/status/152511144031027200" data-datetime="2011-12-29T22:07:44+00:00">December 29, 2011</a></blockquote>
<script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

It's been a few years since I've actually tried to write any PHP and whatever I did write sucked, but my mantra for this year has been **"Challenge Accepted"** so it was time to take it on. [The gist that follows][8] is what I came up with. It's a positively horrible hack that successfully gets tweets into TweetNest. I had to do a bit more legwork, since I found out the hard way that Simon's script [deleted the `user` key][9].

<blockquote class="twitter-tweet"><p>Made TweetNest my bitch. Found an old JSON file, built an upload form for it and now I have 71% of my tweets archived. \m/ <a href="https://twitter.com/search/%2523winning">#winning</a></p>&mdash; Bryan Veloso (@bryanveloso) <a href="https://twitter.com/bryanveloso/status/157284823227052033" data-datetime="2012-01-12T02:16:38+00:00">January 12, 2012</a></blockquote>
<script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

I'm posting this here in hopes that the PHP wizards amongst you out there can help me approve upon this, to ultimately submit to Andy as a pull request when the time comes. I mean, I do work for a _social coding_ company. Let's be social my friends! ;)

<script src="https://gist.github.com/1598270.js?file=loadtweetsfromjson.php"> </script>

[1]: http://twitter.com/bryanveloso
[2]: http://storify.com/
[3]: http://storify.com/bryanveloso/the-day-of
[4]: http://pongsocket.com/tweetnest/
[5]: http://twitter.com/graulund
[6]: http://simonwillison.net/
[7]: https://github.com/simonw/mytweets
[8]: https://gist.github.com/1598270
[9]: https://github.com/simonw/mytweets/blob/master/fetch.py#L38
